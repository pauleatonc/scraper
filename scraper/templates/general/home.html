{% extends 'general/base.html' %}

{% block content %}
    <div class="d-flex flex-column align-items-center mt-5">
        <h1 class="mb-4">Scraping Dashboard</h1>

        {% if messages %}
            <div class="alert alert-success w-50" role="alert">
                {{ messages }}
            </div>
        {% endif %}
        
        <form method="POST" class="w-50">
            {% csrf_token %}
            
            <!-- Mensaje antes del primer botón -->
            <p class="text-center">Scrap para la información general</p>
            <p class="text-center text-muted">Toma la información general de la página de búsqueda, como el nombre, ID, precio, URL de detalle y lo pone en una tabla.
                En caso de existir el elemento, entonces actualiza sus datos.
            </p>
            <button type="submit" name="scrape_general" class="btn btn-primary btn-lg w-100 mb-3">Iniciar Scrape General</button>
            
            <!-- Mensaje antes del segundo botón -->
            <p class="text-center">Scrap para el JSON de detalle</p>
            <p class="text-center text-muted">Con el ID del producto y la URL se revisa la página de detalle y se extraen y actualizan los datos relevantes.</p>
            <button type="submit" name="scrape_detail" class="btn btn-secondary btn-lg w-100 mb-3">Iniciar Scrape Detalle</button>

            <p class="text-center">Generar JSON</p>
            <p class="text-center text-muted">Construye y almacena un JSON con la información recogida de cada elemento. Esto da una fotografía, que analizada junto
                a los otros JSON generados podrá mostrar los cambios sufridos por cada elemento en el tiempo. El JSON final se encuentra en la carpeta 
                respectiva en la raiz del proyecto.
            </p>
            <button type="submit" name="generate_json" class="btn btn-success btn-lg w-100">Generar JSON</button>

        </form>

        <!-- Botón para ir al Admin de Django -->
        <p class="text-center text-muted">Administra los modelos desde el administrador de Django. Primero debes contar con credenciales de Super Usuario.</p>
        <a href="{% url 'admin:index' %}" class="btn btn-dark btn-lg w-50 mt-4">Ir al Admin de Django</a>
    </div>
{% endblock content %}
